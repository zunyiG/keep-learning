# 构造过程抽象

## 程序设计的基本元素

一个强有力的程序语言，不仅是一种指挥计算机执行任务的方式，还应该是一种框架，使我们能够组织自己的有关计算过程的思想。  
当我们在了解一门语言时，要着重了解关于能够将简单认识组合起来形成复杂认识的方法的这方面。为此语言一般提供了三种机制：

- 基本表达式  
  用于表达语言最关心的简单的个体
- 组合的方法
  通过他们可以从简单的个体出发构造出复合的元素
- 抽象的方法
  通过他们可以为复合对象命名，并将它们作为单元去操作

##　表达式

- 数字
- 基本表达式  
  `+, -, \*, /`
- 组合式  
  `1 + 1, 5 \* 5, (1 / 2) \* 3`

## 命名和环境

程序设计语言需要提供一种通过名字去使用对象的方式，  
我们将名字的标识符称为变量， 其对应的值称为对象。

```haskell
ghci> let a = 1
ghci> show a
-- => "1"
```

我们之所以能够将符号和值关联，而后又能取出这些值，是因为解释器必须维护某种存储能力，以保持名字和值得关联关系。  
这种存储能力被称为环境（或者说是全局环境，一个计算过程可能会涉及到若干不同的环境）

## 组合式的求值

组合式的求值解释器一般按照下面步骤求值：

- 求组合式各表达式的值
- 求最左边表达式( 运算符 )应用于实际参数， 所谓的参数也就是其他表达式( 运算对象 )的值

通过这一递归的过程，我们可以简洁的描述嵌套深度的情况  
反复应用第一个步骤，我们可以到达求值中不是复杂表达式的某一点，这里需要处理的是基本表达式，我们可以通过：

- 数的值就是它们表示的数值
- 内部运算符的值，就是能够完成相应操作的机器指针序列
- 其它名字的值，就是在这个环境中关联与这个名字的对象

其第二点可以看做是第三点的特殊情况，及 +, -, \*, / 一类的运算符也包含在全局环境里，并将与之关联的指令序列作为它的 “值”。  
其实环境的角色就是用于确定各个符号对应的意义。  
如果没有环境的任何信息，那么类似 `(x + 1)` 将没有任何意义，因为需要有环境为 `x` 提供意义(甚至是符号 `+` 的意义)

对于像 let a = 1 这种我们称为 `特殊形式` 它并不是一个组合式

## 复合过程

目前已经了解的对于程序设计语言的一些基本元素：

- 数和算术运算是最基本的数据和过程
- 组合式的嵌套提供了一种组合起多个操作的方法
- 定义一种受限的抽象手段，它为名字关联相应的值
